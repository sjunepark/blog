---
import { getCollection } from "astro:content";
import DefaultLayout from "../../layouts/DefaultLayout.astro";
import ArticleCard from "../../components/posts/ArticleCard.astro";

const posts = (await getCollection("blog")).sort(
  (a, b) => a.data.pubDate.valueOf() - b.data.pubDate.valueOf(),
);
---

<DefaultLayout>
  <div class="mt-4 flex h-full flex-col md:border-l md:border-border md:pl-6">
    <div class="h-full max-w-3xl flex-1 flex-col space-y-16">
      {posts.map((post) => <ArticleCard {post} />)}
    </div>
  </div>
</DefaultLayout>
